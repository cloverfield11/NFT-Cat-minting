<!DOCTYPE html>
<html>

<head>
  <title>Сберкот NFT</title>
  <link rel="stylesheet" href="styles/slick.css">
  <link rel="stylesheet" href="styles/slick-theme.css">
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="icon" href="./styles/img/sk1.ico" type="image/x-icon">
</head>

<body>
  <header>
    <nav>
      <a href="index.html" class="navigation-menu-link">Cat NFT</a>
      <ul class="navigation-menu">
        <li><a href="mint.html">Mint</a></li>
        <li><a href="roadmap.html">Roadmap</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="team.html">Team</a></li>
      </ul>
      <ul>
        <li><button id="connect-wallet">Connect Metamask</button></li>
      </ul>
      <div id="wallet-address" style="display: none;"></div>
    </nav>
  </header>

  <main>
    <section id="mint">
      <div class="mint-content">
        <h2>Mint</h2>
        <p>It is now possible to become the owner of one of the Cat! just connect your Metamask wallet to the site and
          click on the button below!</p>
        <div id="mintResult" style="display: none;">
          <p id="mintSuccess">Minting Done!</p>
          <p>NFT collection link at OpenSea: <a id="openSeaLink" href="" target="_blank">link</a></p>
        </div>
        <div id="loadingSpinner" style="display: none;">
          <div class="loader"></div>
          <p class="loading-text">Minting...</p>
        </div>
        <button id="mintButton">Take my money and give me my Cat!</button>
      </div>
    </section>
  </main>

  <footer>
    <p>Contract: <a href="https://mumbai.polygonscan.com/address/ChangeME" target="_blank"
        class="contract-link">ChangeME</a></p>
    <div class="footer-links">
      <a href="https://twitter.com/ChangeME" target="_blank">Twitter</a>
      <a href="https://t.me/ChangeME" target="_blank">Telegram</a>
      <a href="https://discord.com" target="_blank">Discord</a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <script src="scripts/jquery-3.7.0.min.js"></script>
  <script src="scripts/slick.min.js"></script>
  <script src="scripts/script.js"></script>
  <script>
    $(document).ready(function () {

      $('#mintButton').click(function () {
        $('#mintButton').hide();
        $('#loadingSpinner').show();

        $.get('/handleMint', function (data) {
          $('#loadingSpinner').hide();
          $('#mintResult').show();
          $('#openSeaLink').attr('href', 'https://testnets.opensea.io/collection/CHANGEME').text('link');
        }).fail(function () {
          $('#loadingSpinner').hide();
          alert('Error occurred during minting');
        });
      });
    });
  </script>
</body>

</html>